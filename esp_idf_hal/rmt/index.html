<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Remote Control (RMT) module driver."><meta name="keywords" content="rust, rustlang, rust-lang, rmt"><title>esp_idf_hal::rmt - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../esp_idf_hal/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../esp_idf_hal/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module rmt</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div></section><div id="sidebar-vars" data-name="rmt" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../esp_idf_hal/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">esp_idf_hal</a>::<wbr><a class="mod" href="#">rmt</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/esp_idf_hal/rmt.rs.html#1-709">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Remote Control (RMT) module driver.</p>
<p>The RMT (Remote Control) module driver can be used to send infrared remote control
signals. Due to flexibility of RMT module, the driver can also be used to generate or receive
many other types of signals.</p>
<p>This module is an abstraction around the <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/peripherals/rmt.html">IDF RMT</a>
implementation. It is recommended to read before using this module.</p>
<p>This is implementation currently supports transmission only.</p>
<p>Not supported:</p>
<ul>
<li>Interrupts.</li>
<li>Receiving.</li>
<li>Change of config after initialisation.</li>
</ul>
<h2 id="example"><a href="#example">Example</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Prepare the config.</span>
<span class="kw">let</span> <span class="ident">config</span> <span class="op">=</span> <span class="ident">TransmitConfig::new</span>().<span class="ident">clock_divider</span>(<span class="number">1</span>);

<span class="comment">// Retrieve the output pin and channel from peripherals.</span>
<span class="kw">let</span> <span class="ident">peripherals</span> <span class="op">=</span> <span class="ident">Peripherals::take</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">pin</span> <span class="op">=</span> <span class="ident">peripherals</span>.<span class="ident">pins</span>.<span class="ident">gpio18</span>.<span class="ident">into_output</span>()<span class="question-mark">?</span>;
<span class="kw">let</span> <span class="ident">channel</span> <span class="op">=</span> <span class="ident">peripherals</span>.<span class="ident">rmt</span>.<span class="ident">channel0</span>;

<span class="comment">// Create an RMT transmitter.</span>
<span class="kw">let</span> <span class="ident">tx</span> <span class="op">=</span> <span class="ident">Transmit::new</span>(<span class="ident">pin</span>, <span class="ident">channel</span>, <span class="kw-2">&amp;</span><span class="ident">config</span>)<span class="question-mark">?</span>;

<span class="comment">// Prepare signal pulse signal to be sent.</span>
<span class="kw">let</span> <span class="ident">low</span> <span class="op">=</span> <span class="ident">Pulse::new</span>(<span class="ident">PinState::Low</span>, <span class="ident">PulseTicks::new</span>(<span class="number">10</span>)<span class="question-mark">?</span>);
<span class="kw">let</span> <span class="ident">high</span> <span class="op">=</span> <span class="ident">Pulse::new</span>(<span class="ident">PinState::High</span>, <span class="ident">PulseTicks::new</span>(<span class="number">10</span>)<span class="question-mark">?</span>);
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">signal</span> <span class="op">=</span> <span class="ident">FixedLengthSignal</span>::<span class="op">&lt;</span><span class="number">2</span><span class="op">&gt;</span><span class="ident">::new</span>();
<span class="ident">signal</span>.<span class="ident">set</span>(<span class="number">0</span>, <span class="kw-2">&amp;</span>(<span class="ident">low</span>, <span class="ident">high</span>))<span class="question-mark">?</span>;
<span class="ident">signal</span>.<span class="ident">set</span>(<span class="number">1</span>, <span class="kw-2">&amp;</span>(<span class="ident">high</span>, <span class="ident">low</span>))<span class="question-mark">?</span>;

<span class="comment">// Transmit the signal.</span>
<span class="ident">tx</span>.<span class="ident">start</span>(<span class="ident">signal</span>)<span class="question-mark">?</span>;</code></pre></div>
<p>See the <code>examples/</code> folder of this repository for more.</p>
<h2 id="loading-pulses"><a href="#loading-pulses">Loading pulses</a></h2>
<p>There are two ways of preparing pulse signal. <a href="struct.FixedLengthSignal.html" title="FixedLengthSignal">FixedLengthSignal</a> and <a href="struct.VariableLengthSignal.html" title="VariableLengthSignal">VariableLengthSignal</a>. These
implement the <a href="trait.Signal.html" title="Signal">Signal</a> trait.</p>
<p><a href="struct.FixedLengthSignal.html" title="FixedLengthSignal">FixedLengthSignal</a> lives on the stack and must have the items set in pairs of <a href="struct.Pulse.html" title="Pulse">Pulse</a>s. This is
due to the internal implementation of RMT, and const generics limitations.</p>
<p><a href="struct.VariableLengthSignal.html" title="VariableLengthSignal">VariableLengthSignal</a> allows you to use the heap and incrementally add pulse items without knowing the size
ahead of time.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="config/index.html" title="esp_idf_hal::rmt::config mod">config</a></div><div class="item-right docblock-short"><p>Types used for configuring the <a href="index.html" title="crate::rmt"><code>rmt</code></a> module.</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CHANNEL0.html" title="esp_idf_hal::rmt::CHANNEL0 struct">CHANNEL0</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CHANNEL1.html" title="esp_idf_hal::rmt::CHANNEL1 struct">CHANNEL1</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CHANNEL2.html" title="esp_idf_hal::rmt::CHANNEL2 struct">CHANNEL2</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CHANNEL3.html" title="esp_idf_hal::rmt::CHANNEL3 struct">CHANNEL3</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FixedLengthSignal.html" title="esp_idf_hal::rmt::FixedLengthSignal struct">FixedLengthSignal</a></div><div class="item-right docblock-short"><p>Stack based signal storage for an RMT signal.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Peripheral.html" title="esp_idf_hal::rmt::Peripheral struct">Peripheral</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Pulse.html" title="esp_idf_hal::rmt::Pulse struct">Pulse</a></div><div class="item-right docblock-short"><p>A <code>Pulse</code> contains a pin state and a tick count, used in creating a <a href="trait.Signal.html" title="Signal"><code>Signal</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PulseTicks.html" title="esp_idf_hal::rmt::PulseTicks struct">PulseTicks</a></div><div class="item-right docblock-short"><p>Number of ticks, restricting the range to 0 to 32,767.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Transmit.html" title="esp_idf_hal::rmt::Transmit struct">Transmit</a></div><div class="item-right docblock-short"><p>The RMT transmitter.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.VariableLengthSignal.html" title="esp_idf_hal::rmt::VariableLengthSignal struct">VariableLengthSignal</a></div><div class="item-right docblock-short"><p><code>Vec</code> heap based storage for an RMT signal.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PinState.html" title="esp_idf_hal::rmt::PinState enum">PinState</a></div><div class="item-right docblock-short"><p>A <code>Low</code> (0) or <code>High</code> (1) state for a pin.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.HwChannel.html" title="esp_idf_hal::rmt::HwChannel trait">HwChannel</a></div><div class="item-right docblock-short"><p>RMT peripheral channel.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Signal.html" title="esp_idf_hal::rmt::Signal trait">Signal</a></div><div class="item-right docblock-short"><p>Signal storage for <a href="struct.Transmit.html" title="Transmit"><code>Transmit</code></a> in a format ready for the RMT driver.</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.duration_to_ticks.html" title="esp_idf_hal::rmt::duration_to_ticks fn">duration_to_ticks</a></div><div class="item-right docblock-short"><p>A utility to convert a duration into ticks, depending on the clock ticks.</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="esp_idf_hal" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0-nightly (c5cf08d37 2022-03-30)" ></div>
</body></html>